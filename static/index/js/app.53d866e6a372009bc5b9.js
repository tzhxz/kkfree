webpackJsonp([14],{A8Yv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={name:"App",data:function(){return{}},components:{},created:function(){window.addEventListener("resize",this.init),this.init()},destroyed:function(){window.removeEventListener("resize",this.init)},methods:{init:function(){this.$utils.initProperty(),this.isMobile(),this.$store.state.app.isMobile?window.isMobilePathKygame||this.$router.push({path:"/m"}):window.isMobilePathKygame&&this.$router.push({path:"/"})},isMobile:function(){var e=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);this.$store.state.app.isMobile=!!e}}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")(i,a,!1,function(e){n("fw1p")},null,null).exports,r=n("/ocq");Vue.use(r.a);var c=r.a.prototype.push;r.a.prototype.push=function(e){return c.call(this,e).catch(function(e){return e})};var s=new r.a({mode:"history",routes:[{path:"/",name:"index_pc",redirect:"/home",component:function(e){return n.e(11).then(function(){var t=[n("t6i9")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"pc_shiyou"},children:[{path:"home",name:"pc_home",component:function(e){return Promise.all([n.e(0),n.e(8)]).then(function(){var t=[n("FxAJ")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"首页",requireAuth:!0}},{name:"pc_game_details",path:"g/:g",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"7GZs"))},props:!0,meta:{title:"game_pc",requireAuth:!0}},{name:"pc_recent",path:"recent",component:function(){return n.e(10).then(n.bind(null,"BBz3"))},meta:{title:"recent_pc",requireAuth:!0}},{path:"c/:c",name:"pc_cate",props:!0,component:function(e){return n.e(9).then(function(){var t=[n("ir2g")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"分类",requireAuth:!0}},{path:"service",name:"pc_service",component:function(e){return n.e(2).then(function(){var t=[n("319j")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"service",requireAuth:!0}},{path:"privacy",name:"pc_privacy",component:function(e){return n.e(3).then(function(){var t=[n("g6Ft")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"privacy",requireAuth:!0}},{path:"contact",name:"pc_contact",component:function(e){return n.e(4).then(function(){var t=[n("kVJN")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"contact",requireAuth:!0}}]},{path:"/m",name:"m_v1_index",redirect:"/m/home",component:function(e){return n.e(12).then(function(){var t=[n("iBCm")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"首页v1"},children:[{name:"m_v1_search",path:"s/:c",component:function(){return n.e(7).then(n.bind(null,"3rrx"))},props:!0,meta:{title:"search",requireAuth:!0}},{path:"g/:g",name:"m_v1_game_details",component:function(e){return Promise.all([n.e(0),n.e(6)]).then(function(){var t=[n("0XDr")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"v1_game_details",requireAuth:!0}},{path:"c/:c",name:"m_v1_cate",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){var t=[n("K47w")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"分类",requireAuth:!0}},{path:"home",name:"m_v1_home",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){var t=[n("K47w")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"首页",requireAuth:!0}},{path:"service",name:"m_v1_service",component:function(e){return n.e(2).then(function(){var t=[n("319j")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"v1_service",requireAuth:!0}},{path:"privacy",name:"m_v1_privacy",component:function(e){return n.e(3).then(function(){var t=[n("g6Ft")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"v1_privacy",requireAuth:!0}},{path:"contact",name:"m_v1_contact",component:function(e){return n.e(4).then(function(){var t=[n("kVJN")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{title:"v1_contact",requireAuth:!0}}]},{path:"*",redirect:"/",meta:{hidden:!0}}],scrollBehavior:function(e,t,n){return{x:0,y:0}}}),u=n("NYxO"),l=n("LRGm"),p=n.n(l),m={namespaced:!0,state:{isMobile:!1,version:"",config:p.a,emailBoxVisible:!0,userinfo:{token:"",is_new:null,email:""},recommend:{plf:[],prh:[],pbt:[],pvrh:[],pbt2:[],psbt:[],mbt1:[],mbt2:[],mvrh:[],mfrh:[]},gameInfo:{},gAdConfig:{client:"",afc:{pcLeftSlot:"4518999438",pcRightSlot:"1845305459",pcMidSlot:"8658674555",mHomeSlot:"6637062167",mDetailSlot:"4527857856"}}},config:p.a};Vue.use(u.a);var d=new u.a.Store({modules:{app:m}}),h=(n("j1ja"),n("GKcl"),n("mtWM")),f=n.n(h),v=n("Rf8U"),g=n.n(v),y=n("LRGm");Vue.use(g.a,f.a);var w={request:function(e){if((e=Object.assign({api:"",url:"",data:{},dataSign:!0,method:"post",header:{},success:null,fail:null},e||{})).header["Joyheart-Access-Token"]="",e.data.appid=y.appid,e.data.client_type=window.isMobileKygame?"m":"p",e.data.client_version=window.isMobileVersion,""==e.api&&""==e.url)return console.error("url is need");e.url=e.url?e.url:""+y.apiHost+y.apiMould+e.api,"get"==e.method?Vue.axios.get(e.url,{headers:e.header,params:e.data}).then(function(t){e.success&&e.success(t.data)}).catch(function(t){e.fail&&e.fail(t.data)}):"post"==e.method&&Vue.axios.post(e.url,e.data,{headers:e.header}).then(function(t){e.success&&e.success(t.data)}).catch(function(t){e.fail&&e.fail(t.data)})},urlBase64ToUint8Array:function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),i=new Uint8Array(n.length),a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i},setCookie:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i="127.0.0.1"==document.domain?"127.0.0.1":y.domain,a=new Date;a.setDate(a.getDate()+24*n),t=JSON.stringify(t),document.cookie=e+"="+escape(t)+(null==n?"":";expires="+a.toGMTString())+";path=/;domain="+i},getCookie:function(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var i=t[n].split("=");if(e==i[0]){var a=unescape(i[1]);return a?JSON.parse(a):a}}return""}},b={install:function(e,t){e.prototype.$utils={prefix:"shiyou_",timer:0,curGameIndex:0,hostName:"https://www.kkfreegame.com",request:function(e){w.request(e)},scrollUp:function(e){var t=document.documentElement.scrollTop||document.body.scrollTop,n=e>t?1:-1,i=Math.abs(t-e),a=Math.abs(parseInt((e-t)/50));a<20&&(a=20);!function e(){i<=0||a<=0||(a=i<a?i:a,document.body.scrollTop=document.documentElement.scrollTop+=n*a,i-=a,setTimeout(e,10))}()},fontSizeAuto:function(e){document.documentElement.style.width="";var t=window.screen.width;t>e&&(t=e),t<320&&(t=320),document.documentElement.style.fontSize=t/(e/100)+"px"},titleCase:function(e){return e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()},getLocal:function(e,t){var n=this.localGet(e);return n||(n=t),n},getEventVersion:function(){return this.getLocal("version","v1")},getEventFrom:function(){return this.getLocal("eventfrom","default")},gtagReport:function(e){var t=(e=Object.assign({eventName:"default",eventParams:{},delaytime:100},e||{})).delaytime;delete e.delaytime;var n={eventName:e.eventName,eventParams:{event_category:"pc",event_label:"home"}},i=this.getEventVersion();switch(e.eventName){case"pc_view":n.eventParams.event_category="pc",n.eventParams.event_label=e.eventParams.page;break;case"m_view":n.eventParams.event_category="m_"+i,n.eventParams.event_label=e.eventParams.page;break;case"pc_game_feedback":n.eventParams.event_category="pc",n.eventParams.event_label=this.titleCase(e.eventParams.eventFrom)+"_"+e.eventParams.title.replace(/\s+/g,"")+"_"+this.titleCase(e.eventParams.action);break;default:n.eventParams.event_category=e.eventName.match(new RegExp("^m_.*$"))?"m_"+i:"pc",n.eventParams.event_label=this.titleCase(e.eventParams.eventFrom)+"_"+e.eventParams.title.replace(/\s+/g,"")}setTimeout(function(){window.KyGtagReport&&KyGtagReport(n)},t)},getHostUrl:function(){var e="";return e},gotoPlayGame:function(e,t){this.localSet("ginfo",e);var n=window.isMobileKygame?"m_game_click":"pc_game_click";this.gtagReport({eventName:n,eventParams:{gid:e.gid,title:e.title,eventFrom:this.getEventFrom(),version:this.getEventVersion()}}),t&&t()},initAfc:function(){window.adsbygoogle=window.adsbygoogle||[],window.adsbygoogle.push({})},localSet:function(e,t){e=this.prefix+e,w.setCookie(e,t)},localGet:function(e){return e=this.prefix+e,w.getCookie(e)},setCssProperty:function(e,t){document.documentElement.style.setProperty(e,t)},initProperty:function(){this.fontSizeAuto(750)},reSetCssProperty:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=parseInt((document.body.clientWidth-n)/t);this.setCssProperty(e,i)},imgIsInViewPort:function(e){var t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,i=e.getBoundingClientRect(),a=i.top,o=(i.right,i.bottom,i.left);return a>=0&&o>=0&&a<n&&o<t},lazyload:function(e){var t=this;setTimeout(function(){window.innerHeight;for(var n=0;n<e.length;n++)t.imgIsInViewPort(e[n])&&function(t){e[t].src!=e[t].getAttribute("data-src")&&(e[t].src=e[t].getAttribute("data-src"))}(n)},5)},addFavorite:function(e,t){try{document.all?window.external.addFavorite(e,t):window.sidebar&&window.sidebar.addPanel(t,e,"")}catch(e){}},initFloatGame:function(e){var t=this;if(e.float_game){var n=e.float_game.getElementsByClassName("i_img")[0],i=e.float_game.getElementsByTagName("a")[0];if(n){var a=this.getHostUrl();a="v2"!=this.localGet("version")?a+"/m/g/":a+"/m/v2/g/";var o=function(){0!=e.gamelist.length&&(i.setAttribute("href",a+e.gamelist[t.curGameIndex].gid),n.setAttribute("src",e.gamelist[t.curGameIndex].icon),n.setAttribute("alt",e.gamelist[t.curGameIndex].title),n.setAttribute("data-i",t.curGameIndex),t.curGameIndex++,t.curGameIndex>=e.gamelist.length&&(t.curGameIndex=0))};o(),this.timer=setInterval(o.bind(this),1e4);var r={deviation:{x:null,y:null}};e.float_game.addEventListener("touchstart",function(t){var n=t.targetTouches[0];r.deviation.x=n.pageX-e.float_game.offsetLeft,r.deviation.y=n.pageY-e.float_game.offsetTop}),e.float_game.addEventListener("touchmove",function(n){if(1==n.targetTouches.length){n.stopPropagation(),n.preventDefault();var i=n.targetTouches[0],a=i.pageX-r.deviation.x<0?0:i.pageX-r.deviation.x,o=i.pageY-r.deviation.y<0?0:i.pageY-r.deviation.y,c=window.innerWidth,s=window.innerHeight;0<a&&(a=i.pageX-r.deviation.x>c-e.float_game.offsetWidth?c-e.float_game.offsetWidth:i.pageX-r.deviation.x),0<o&&(o=i.pageY-r.deviation.y>s-t.offsetHeight?s-e.float_game.offsetHeight:i.pageY-r.deviation.y),e.float_game.style.left=a+"px",e.float_game.style.top=o+"px"}})}}},initFloatLeft:function(e){var t=this;if(e){var n={deviation:{x:null,y:null}};e.addEventListener("touchstart",function(t){var i=t.targetTouches[0];n.deviation.y=i.pageY-e.offsetTop}),e.addEventListener("touchmove",function(i){if(1==i.targetTouches.length){i.stopPropagation(),i.preventDefault();var a=i.targetTouches[0],o=a.pageY-n.deviation.y<0?0:a.pageY-n.deviation.y,r=window.innerHeight;0<o&&(o=a.pageY-n.deviation.y>r-t.offsetHeight?r-e.offsetHeight:a.pageY-n.deviation.y),e.style.left="0px",e.style.top=o+"px"}})}},initAddBtn:function(e,t){e.style.display="none",window.addEventListener("beforeinstallprompt",function(n){n.preventDefault();var i=n;e&&(e.style.display="",t&&t(),e.addEventListener("click",function(t){e.style.display="none",i.prompt(),i.userChoice.then(function(e){console.log(e),e.outcome,i=null})}))})}}}};window.isMobileKygame=!1,window.isMobilePathKygame=!1,window.isMobileVersion="v1";w.getCookie("shiyou_token");/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(window.isMobileKygame=!0),s.beforeEach(function(e,t,n){window.isMobilePathKygame=/^\/m.*$/i.test(e.path),window.isMobileKygame?(window.isMobileVersion=/^\/m\/v2.*$/i.test(e.path)?"v2":"v1",window.isMobilePathKygame||n("/m")):window.isMobilePathKygame&&n("/"),n()}),function(){if("serviceWorker"in navigator&&"PushManager"in window){(e="/sw_1.1.js",navigator.serviceWorker.register(e,{updateViaCache:"none"})).then(function(e){return e.addEventListener("updatefound",function(){console.log("Value of updateViaCache:",e.updateViaCache)}),Promise.all([e,new Promise(function(e,t){var n=Notification.requestPermission(function(t){e(t)});n&&n.then(e,t)}).then(function(e){if("granted"!==e)throw new Error("We weren't granted permission.")})])}).then(function(e){var t=e[0];return console.log("==dbg==Permission==Service Worker 注册成功"),function(e,t){var n={userVisibleOnly:!0,applicationServerKey:w.urlBase64ToUint8Array(t)};return e.pushManager.subscribe(n).then(function(e){return console.log("==dbg==Received PushSubscription: ",JSON.stringify(e)),e})}(t,"BMsgUVumb3QV-mZjE6YBPOr1eyu4Ygy1r5iFc-KqlUn_p0P4LCMlsb_KcjSUGckVp4acz5DaDVExJW_eLPQpd0w")}).then(function(e){return t=e,i=w.getCookie("shiyou_endpoint"),n=n||"user/addUserPushUrl",new Promise(function(e,a){t.endpoint!=i?w.request({data:{url:JSON.stringify(t)},api:n,success:function(n){w.setCookie("shiyou_endpoint",t.endpoint),e(n)},fail:function(e){a(e)}}):e(1)});var t,n,i}).then(function(e){}).catch(function(e){})}var e}(),Vue.config.productionTip=!1,Vue.use(b),new Vue({el:"#app",router:s,store:d,components:{App:o},template:"<App/>"})},GKcl:function(e,t){},LRGm:function(e,t){e.exports={appid:10,domain:"kyfungo.com",apiHost:"https://api.joyheartstudio.com/",apiMould:"apps/oliogame/v1/"}},fw1p:function(e,t){}},["A8Yv"]);