webpackJsonp([9],{QqL1:function(t,e){},ir2g:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"Cate",props:["c"],components:{GameList:function(){return i.e(17).then(i.bind(null,"PuZs"))}},data:function(){return{isAlive:!0,gameList:[],lazyloadover:!1,pageflag:0,page:1,limit:40,cateName:"home"}},computed:{},methods:{goto:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$parent.goto(t)},init:function(){this.lazyloadover=!1,this.gameList=[],this.page=1,this.pageflag=0,this.getGameList(),this.reportView()},reportView:function(){var t="tag_"+this.cateName;this.$utils.localSet("eventfrom",t),this.$utils.gtagReport({eventName:"pc_view",eventParams:{page:t},delaytime:500})},getGameList:function(){var t=this;if(!this.lazyloadover){this.loading=!0;var e=this.cateName,i={cate_name:e,page:this.page,limit:this.limit};this.$utils.request({api:"index/getGameList",method:"get",data:i,success:function(i){if(1==i.code||i.data){t.loading=!1;var a=i.data[e].games;a&&(a.length<t.limit&&(t.lazyloadover=!0),t.gameList=t.gameList.concat(a))}}})}},dataLazyload:function(){if(!this.lazyloadover){var t=document.getElementById("gameDiv").offsetTop||0,e=document.body.scrollTop||document.documentElement.scrollTop;if(!(t<e)){var i=window.screen.height||document.documentElement.clientHeight,a=Math.floor((e+i)/t);a||(this.pageflag=0),e+i-t>10&&0==this.pageflag&&0!=a&&(this.page++,this.pageflag=1,this.getGameList())}}},onScroll:function(){this.dataLazyload()}},watch:{$route:function(t,e){t.path!==e.path&&(this.cateName=this.c=t.params.c,this.init())}},created:function(){this.cateName=this.c||this.$route.params.c,window.addEventListener("scroll",this.onScroll),this.init()},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"wrap_pc"},[this.isAlive?e("GameList",{attrs:{gameData:this.gameList}}):this._e(),this._v(" "),e("div",{attrs:{id:"gameDiv"}})],1)])},staticRenderFns:[]};var o=i("VU/8")(a,s,!1,function(t){i("QqL1")},"data-v-14412039",null);e.default=o.exports}});