webpackJsonp([8],{FxAJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"index",components:{GameList:function(){return i.e(25).then(i.bind(null,"PuZs"))},desPlate:function(){return i.e(19).then(i.bind(null,"zRCK"))}},data:function(){return{gameList:[],webSiteName:"kkfreegame",fullscreenLoading:!0,update:!1,pageflag:0,page:1,limit:40,lazyloadover:!1}},computed:{gAdConfig:function(){return this.$store.state.app.gAdConfig}},methods:{goto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$parent.goto(e)},createFrisGameList:function(){for(var e=0;e<30;e++)this.gameList.push({title:"kkfreegame",icon:i("xIjl")})},getGameList:function(){var e=this;if(!this.lazyloadover){this.update=!0;var t={cate_name:"home",page:this.page,limit:this.limit};this.$utils.request({api:"index/getGameList",data:t,method:"get",success:function(i){if(1==i.code||i.data){1==e.page&&(e.gameList=[]);var a=i.data[t.cate_name].games;a.length&&(a.length<e.limit&&(e.lazyloadover=!0),e.gameList=e.gameList.concat(a))}}})}},dataLazyload:function(){if(!this.lazyloadover){var e=document.getElementById("gameDiv").offsetTop||0,t=document.body.scrollTop||document.documentElement.scrollTop;if(!(e<t)){var i=window.screen.height||document.documentElement.clientHeight,a=Math.floor((t+i)/e);a||(this.pageflag=0),t+i-e>10&&0==this.pageflag&&0!=a&&(this.page++,this.pageflag=1,this.getGameList())}}},onScroll:function(){this.dataLazyload()},reportView:function(){this.$utils.localSet("eventfrom","home"),this.$utils.localSet("eventName","pc_game_click"),this.$utils.gtagReport({eventName:"pc_view",eventParams:{page:"home"},delaytime:500})}},beforeCreate:function(){},beforeUpdate:function(){},beforeMount:function(){},updated:function(){},created:function(){this.limit=parseInt(window.screen.width*window.screen.height/46656),console.log(window.screen.width+"===home==created:"+window.screen.height+"===home==limit:"+this.limit),this.reportView(),window.addEventListener("scroll",this.onScroll),this.createFrisGameList(),this.getGameList()},mounted:function(){},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)},activated:function(){}},n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"wrap_pc"},[t("div",{staticStyle:{"min-height":"90vh"}},[t("GameList",{attrs:{gameData:this.gameList}}),this._v(" "),t("div",{attrs:{id:"gameDiv"}})],1),this._v(" "),t("des-plate")],1)])},staticRenderFns:[]};var o=i("VU/8")(a,n,!1,function(e){i("WgE5")},"data-v-c0f332c0",null);t.default=o.exports},WgE5:function(e,t){}});