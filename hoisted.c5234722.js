import"./chunks/Layout.astro_astro_type_script_index_3_lang.641a2333.js";import{C as n}from"./chunks/permission.623ab746.js";let c=class{constructor(){this.init()}init(){this.getPlayHistory(),window.searchGames=()=>{this.searchGames()}}leftAdPosition(){let e=document.getElementById("adCon1");n.eleNoScroll({element:e,offsetTop:300,oldTop:282,newTop:0,scrollType:1})}searchGames(){let e=document.getElementById("sInput"),t=document.getElementById("resultBox");if(!e)return;let l=e.value;!l||n.axios({url:"/index/searchGame",data:{keyword:l,limit:24},success:o=>{console.log("==debug==searchGame==res:",o);let i=t.getElementsByTagName("div")[0],r=t.getElementsByTagName("div")[1];if(t.style.display="block",!o.games.length){r.innerHTML="",i.innerHTML="<h1>Nothing's coming up for that. Try searching for something else?</h1>";return}i.innerHTML="<h1>Look what we found!</h1>";let s="";o.games.map((a,d)=>{s+=' <a class="grid-a box-shadow wh94" ',s+="href=/g/"+a.gid+"/",s+="><img src="+a.icon+' loading="eager" decoding="async"  class="grid-a-img"/> <span class="title grid-a-title">'+a.title+"</span></a>"});for(let a=0;a<14;a++)s+='<a class="wh94" style="height: 1px;"></a>';r.innerHTML=s},fail:o=>{console.log(o)}})}getPlayHistory(){n.axios({url:"/user/getPlayHistory",data:{},success:e=>{console.log("==debug==getPlayHistory==res:",e);let t="";if(e.phot.games.length){let l=document.getElementById("popularDiv");t+=n.creatGridaHtml({list:e.phot.games,add_a_n:14}),l.innerHTML=t}if(t="",e.history.length){let l=document.getElementById("recentBox");t+=n.creatGridaHtml({list:e.history,add_a_n:14}),l.innerHTML=t;return}},fail:e=>{console.log(e)}})}};new c;
